	<script>
		function ajaxFileUpload() {
			//获取csrf值
			//var header = $("meta[name='_csrf_name']").attr("content");
			//var token = $("meta[name='_csrf']").attr("content");
			$.ajaxFileUpload({
				//url:'upload?' + header + '=' + token,
				url: 'upload',
				secureuri: false,
				fileElementId: 'file',
				dataType: 'text',
				success: function(data, status) {
				   	var _json=data.replace(/<pre.*?>(.*?)<\/pre>/ig,function($0,$1){return $1});
				   	var json=JSON.parse(_json);
				},
				error: function(data, status, e) {;
				}
			});
			return false;
		}
		$("#chooseFile").click(function(event) {
			$("#file").click();
		}); 
	</script>


	<form name="form" action="" method="POST"
			enctype="multipart/form-data">
			<!-- 可以将原input隐藏，点击新的按钮时激活原input对象的点击事件 -->
			<a href="#" class="button glow button-rounded button-flat-primary" id="chooseFile">press me</a>
			<input name="file" id="file" type="file" style="display:none"/>
			<button class="button" id="buttonUpload"
				onclick="return ajaxFileUpload();">Upload</button>
	</form>


	<script src="ajaxfileupload.js"></script>
