<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN">
<head>
<meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
</head>
<body>
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="underscore.js"></script>
	<script type="text/javascript" src="backbone.js"></script>
	<script type="text/javascript" src="util.js"></script>
	<script type="text/javascript">
		Man=Backbone.Model.extend({
			initialize:function(){
				log("hello from backbone-js");
				//监听事件
				this.bind("change:name",function(){
					var name=this.get("name");
					log(name+" has changed");
				});
				//validte 没有触发
				this.bind("error",function(model,error){
					log(error);
				});
			},
			defaults:{
				name:"satoushi",
				age:12
			},
			changeName:function(){
				this.set({name:"pikachuu"});
			},
			validate:function(attributes){
				if(attributes.name==1){
					return "name should not be none";
				}
			}
		});
		var man = new Man();
		log(man.get("name")+" is "+man.get("age")+" years old.");
		man.set({name:1});
	</script>
</body>
</html>